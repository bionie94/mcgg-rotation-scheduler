<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Magic Chess : GO GO Predict</title>
  <meta name="description" content="Magic Chess : GO GO Predict untuk prediksi lawan berikutnya di game MCGOGO.">
<meta name="keywords" content="login mcgogo, magic chess login, mcgogo predict login">
<link rel="canonical" href="https://mcgogopredict.com/" />
<link rel="icon" href="../assets/mcgogopredict.webp" type="image/png">
<link rel="shortcut icon" href="../assets/mcgogopredict.webp" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui'],
          },
        },
      },
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
</head>
<script>
async function checkSession() {
  try {
    const res = await fetch("/public/session_check.php", { cache: "no-store" });
    if (!res.ok) {
      // kalau server balas redirect/login
      throw new Error("Session invalid");
    }
    const data = await res.json();
    if (!data.valid) {
      throw new Error("Session expired");
    }
  } catch (err) {
    alert("Sesi kamu sudah berakhir karena login di perangkat lain.");
    window.location.href = "/public/login.php";
  }
}

// cek tiap 30 detik
setInterval(checkSession, 300000);
</script>

<body class="bg-gray-900 text-gray-100 min-h-screen flex items-start justify-center p-6 font-sans">

  <main class="w-full max-w-4xl space-y-8">

    <!-- Header -->
    <header class="relative text-center">
  <div class="absolute top-0 right-0">
    <a href="logout.php" 
       class="inline-block px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white font-semibold select-none transition">
      Logout
    </a>
  </div>
  <h1 class="text-3xl font-extrabold text-indigo-400 mb-1">âš”ï¸ Magic Chess : GO GO Predict</h1>
  <p class="text-gray-400">Masukkan 8 nama pemain (P1 = Kamu).</p>
</header>

    <!-- Players -->
    <section class="bg-gray-800 rounded-2xl shadow-lg p-5">
      <h2 class="text-lg font-semibold text-indigo-300 mb-3">ğŸ‘¥ Player Names</h2>
      <div id="playerInputs" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"></div>
      <div class="mt-5 flex gap-3">
        <button id="btnGenerate" class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-md shadow text-white font-semibold transition">ğŸ® Generate Rounds</button>
        <button id="btnClear" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md shadow text-gray-200 transition">ğŸ§¹ Reset Inputs</button>
      </div>
    </section>

    <!-- Rounds input -->
    <section id="roundsForm" class="bg-gray-800 rounded-2xl shadow-lg p-5 hidden">
      <h2 class="text-lg font-semibold text-indigo-300 mb-4">ğŸ“… Isi Lawan (Round)</h2>
      <div id="rounds" class="flex flex-col gap-3"></div>
      <div class="mt-6">
        <button id="btnSolve" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded-md shadow text-white font-semibold transition">ğŸš€ Find Opponent Sequence</button>
      </div>
    </section>

    <!-- Output -->
    <section id="outputSection" class="bg-gray-800 rounded-2xl shadow-lg p-5 hidden">
      <h2 class="text-lg font-semibold text-indigo-300 mb-4">ğŸ“‹ Hasil Prediksi</h2>
      <div id="output" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
      <div class="mt-4 text-sm text-gray-400">Format: Kemungkinan 1 (kiri) dan Kemungkinan 2 (kanan).</div>
    </section>

  </main>
  <script src="../includes/script.js"></script>
</body>
</html>
